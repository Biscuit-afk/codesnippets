//Reusable code for ALV output CL_SALV_TABLE
DATA: ALV_TABLE TYPE REF TO   CL_SALV_TABLE.
DATA: GR_FUNCTIONS TYPE REF TO CL_SALV_FUNCTIONS_LIST.
DATA: GR_DISPLAY   TYPE REF TO CL_SALV_DISPLAY_SETTINGS.
DATA COLUMNS TYPE REF TO CL_SALV_COLUMNS_TABLE.
DATA COLUMN  TYPE REF TO CL_SALV_COLUMN.
DATA: GR_SORTS     TYPE REF TO CL_SALV_SORTS.
DATA: GR_AGG       TYPE REF TO CL_SALV_AGGREGATIONS.
DATA: LO_LAYOUT    TYPE REF TO CL_SALV_LAYOUT.
DATA: LS_KEY       TYPE SALV_S_LAYOUT_KEY.

  CALL METHOD CL_SALV_TABLE=>FACTORY
    IMPORTING
      R_SALV_TABLE = ALV_TABLE
    CHANGING
      T_TABLE      = GT_MAIN.

  GR_FUNCTIONS = ALV_TABLE->GET_FUNCTIONS( ).
  GR_FUNCTIONS->SET_ALL( ABAP_TRUE ).


  GR_DISPLAY = ALV_TABLE->GET_DISPLAY_SETTINGS( ).
  GR_AGG = ALV_TABLE->GET_AGGREGATIONS( ).
  GR_SORTS = ALV_TABLE->GET_SORTS( ).
  LO_LAYOUT = ALV_TABLE->GET_LAYOUT( ).
  LO_LAYOUT->SET_SAVE_RESTRICTION( IF_SALV_C_LAYOUT=>RESTRICT_NONE ).
  LS_KEY-REPORT = SY-REPID.
  LO_LAYOUT->SET_KEY( LS_KEY ).
  LO_LAYOUT->SET_DEFAULT( ABAP_TRUE ).
  COLUMNS = ALV_TABLE->GET_COLUMNS( ).
  PERFORM COLUMN_HEADING.
  ALV_TABLE->DISPLAY( ).

 FORM COLUMN_HEADING.
  DATA NOT_FOUND TYPE REF TO CX_SALV_NOT_FOUND.
  TRY.
      COLUMN = COLUMNS->GET_COLUMN( 'MENGE' ).
      COLUMN->SET_SHORT_TEXT( 'GRN Qty' ).
      COLUMN->SET_MEDIUM_TEXT( 'GRN Qty' ).
      COLUMN->SET_LONG_TEXT( 'GRN Quantity' ).
    CATCH CX_SALV_NOT_FOUND INTO NOT_FOUND.
      " error handling
  ENDTRY.
ENDFORM.
